<?xml version="1.0"?>
<ruleset name="Custom">
    <description>Custom Coding Standards</description>

    <rule ref="Generic.CodeAnalysis.EmptyStatement" />
    <rule ref="Generic.CodeAnalysis.EmptyStatement.DetectedIF">
        <severity>0</severity>
    </rule>
    <rule ref="Generic.CodeAnalysis.ForLoopShouldBeWhileLoop" />
    <rule ref="Generic.CodeAnalysis.ForLoopWithTestFunctionCall" />
    <rule ref="Generic.CodeAnalysis.JumbledIncrementer" />
    <rule ref="Generic.CodeAnalysis.UnconditionalIfStatement" />
    <rule ref="Generic.CodeAnalysis.UnnecessaryFinalModifier" />
    <rule ref="Generic.CodeAnalysis.UnusedFunctionParameter" />
    <rule ref="Generic.CodeAnalysis.UselessOverridingMethod" />

    <rule ref="Generic.Classes.DuplicateClassName" />
    <rule ref="Generic.Commenting.Todo" />

    <rule ref="Generic.Files.LineEndings">
        <properties>
            <property name="eolChar" value="\r\n" />
        </properties>
    </rule>
    <rule ref="Internal.LineEndings.Mixed">
        <type>error</type>
    </rule>

    <!-- When making a method or function call, there MUST NOT be a space between the method or function name and the opening parenthesis, there MUST NOT be a space after the opening parenthesis, and there MUST NOT be a space before the closing parenthesis. In the argument list, there MUST NOT be a space before each comma, and there MUST be one space after each comma.
    Argument lists MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list MUST be on the next line, and there MUST be only one argument per line. -->
    <rule ref="Generic.Functions.FunctionCallArgumentSpacing" />

    <rule ref="Generic.WhiteSpace.DisallowTabIndent" />

    <rule ref="Generic.NamingConventions.ConstructorName" />
    <rule ref="Generic.NamingConventions.UpperCaseConstantName" />

    <rule ref="Generic.PHP.DeprecatedFunctions" />
    <rule ref="Generic.PHP.DisallowShortOpenTag" />
    <rule ref="Generic.PHP.LowerCaseConstant" /><!-- The PHP constants true, false, and null MUST be in lower case. -->
    <rule ref="Generic.PHP.LowerCaseKeyword" /><!-- PHP keywords MUST be in lower case. -->
    <rule ref="Generic.PHP.NoSilencedErrors" />

    <rule ref="PEAR.Functions.ValidDefaultValue" /><!-- Method arguments with default values MUST go at the end of the argument list. -->
    <rule ref="PEAR.NamingConventions.ValidClassName" />

    <rule ref="Squiz.Arrays.ArrayBracketSpacing" />
    <rule ref="Squiz.Arrays.ArrayDeclaration">
        <exclude name="Squiz.Arrays.ArrayDeclaration.SingleLineNotAllowed" />
        <!-- Optional -->
        <exclude name="Squiz.Arrays.ArrayDeclaration.MultiLineNotAllowed" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.FirstIndexNoNewline" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.FirstValueNoNewline" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.IndexNoNewline" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.ValueNoNewline" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.CloseBraceNewLine" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.KeyNotAligned" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.ValueNotAligned" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.CloseBraceNotAligned" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.SpaceBeforeDoubleArrow" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.SpaceAfterComma" />
        <exclude name="Squiz.Arrays.ArrayDeclaration.NoCommaAfterLast" />
    </rule>
    <rule ref="Squiz.Strings.ConcatenationSpacing">
        <properties>
            <property name="spacing" value="1" />
            <property name="ignoreNewlines" value="true" />
        </properties>
    </rule>
    <rule ref="Squiz.Strings.DoubleQuoteUsage.ContainsVar">
        <severity>0</severity>
    </rule>
    <rule ref="Squiz.Strings.EchoedStrings" />

    <rule ref="CustomPHPCS.ControlStructures.AssignmentInCondition" />
    <rule ref="CustomPHPCS.ControlStructures.ControlSignature" />
    <rule ref="Generic.ControlStructures.InlineControlStructure" />
    <rule ref="Squiz.ControlStructures.ElseIfDeclaration" />
    <rule ref="Squiz.ControlStructures.ForEachLoopDeclaration" />
    <rule ref="Squiz.ControlStructures.ForLoopDeclaration" />
    <rule ref="Squiz.ControlStructures.InlineIfDeclaration">
        <!-- Optional -->
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.SpacingBeforeThen" />
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.SpacingAfterThen" />
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.SpacingBeforeElse" />
        <exclude name="Squiz.ControlStructures.InlineIfDeclaration.SpacingAfterElse" />
    </rule>
    <rule ref="Squiz.ControlStructures.LowercaseDeclaration" />
    <rule ref="Squiz.ControlStructures.SwitchDeclaration" />

    <!-- In the argument list, there MUST NOT be a space before each comma, and there MUST be one space after each comma. -->
    <rule ref="Squiz.Functions.FunctionDeclarationArgumentSpacing">
        <properties>
            <property name="equalsSpacing" value="1" />
        </properties>
    </rule>
    <!-- Method names MUST NOT be declared with a space after the method name. The opening brace MUST go on its own line, and the closing brace MUST go on the next line following the body. There MUST NOT be a space after the opening parenthesis, and there MUST NOT be a space before the closing parenthesis. -->
    <rule ref="PEAR.Functions.FunctionDeclaration">
        <!-- Optional -->
        <exclude name="PEAR.Functions.FunctionDeclaration.SpaceAfterFunction" />
        <exclude name="PEAR.Functions.FunctionDeclaration.SpaceAfterUse" />
        <exclude name="PEAR.Functions.FunctionDeclaration.BraceOnNewLine" />
        <exclude name="PEAR.Functions.FunctionDeclaration.BraceOnSameLine" />
    </rule>
    <rule ref="Squiz.Functions.LowercaseFunctionKeywords" />

    <rule ref="Squiz.Operators.IncrementDecrementUsage" />

    <rule ref="Squiz.WhiteSpace.LanguageConstructSpacing" />
    <rule ref="Squiz.WhiteSpace.LogicalOperatorSpacing" />
    <rule ref="Squiz.WhiteSpace.OperatorSpacing">
        <!-- Optional -->
        <exclude name="Squiz.WhiteSpace.OperatorSpacing.SpacingBefore" />
    </rule>
    <rule ref="Squiz.WhiteSpace.ScopeKeywordSpacing" /><!-- Visibility MUST be declared on all methods. -->
    <rule ref="Squiz.WhiteSpace.SemicolonSpacing" />
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace" />

    <exclude-pattern>*/.git/*</exclude-pattern>
</ruleset>